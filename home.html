<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <link rel="icon"
        href="data:;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAuSURBVADtlNERACAIArf8Ym5hZ0LPoIE/uIA0O4cIKNAdCHIAAsMEOQCB7mD5B68A6HMCe60OqEAAAAAASUVORK5CYII=">
    <title>äº‘ç«¯éŸ³ä¹ - é¦–é¡µ</title>
    <!-- BootCDN FontAwesome -->
    <link href="https://cdn.jsdmirror.com/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"
        integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">


    <style>

            /* --- æ‰‹æœºç«¯ä¸“é¡¹é€‚é… (ç›´æ¥å†™åœ¨ HTML å†…) --- */
@media (max-width: 768px) {
    /* 1. éšè—ä¾§è¾¹æ  */
    .sidebar {
        display: none !important;
    }

    /* 2. ä¸»å†…å®¹åŒºåç§»å½’é›¶ */
    .main-content {
        margin-left: 0 !important;
        width: 100% !important;
        padding: 10px !important;
        padding-bottom: 150px !important; /* ä¸ºåº•éƒ¨æ’­æ”¾æ¡ç•™ç©ºé—´ */
    }

    /* 3. å¤´éƒ¨æœç´¢æ æ”¹ä¸ºçºµå‘æ’åˆ—ï¼Œé˜²æ­¢æŒ¤å‹ */
    .top-header {
        flex-direction: column !important;
        height: auto !important;
        gap: 15px !important;
        padding: 15px !important;
    }

    .search-bar-container {
        width: 100% !important;
    }

    .header-right {
        width: 100% !important;
        justify-content: space-between !important;
    }

    /* 4. åº•éƒ¨æ’­æ”¾æ¡æŒ‰é’®ç®€åŒ– */
    .player-bar {
        height: 100px !important;
        flex-direction: column !important;
        padding: 10px !important;
    }

    .player-info-wrapper, .player-controls {
        width: 100% !important;
        justify-content: center !important;
    }

    /* éšè—å¯¹æ‰‹æœºä¸å‹å¥½çš„å…ƒç´  */
    .player-extra, .sidebar-resizer, .vol-wrapper {
        display: none !important;
    }

    /* é™åˆ¶æ­Œæ›²å¡ç‰‡æ˜¾ç¤º */
    .song-list-container {
        grid-template-columns: 1fr !important;
    }
}
        
        :root {
            --primary-color: #1ecf9f;
            --bg-body: #f3f4f6;
            --bg-sidebar: #ffffff;
            --bg-content: #ffffff;
            --text-main: #333333;
            --text-sub: #888888;
            --border-color: #eeeeee;
            --shadow-card: 0 4px 16px rgba(0, 0, 0, 0.05);
            --shadow-float: 0 8px 24px rgba(0, 0, 0, 0.12);
            --player-bg: rgba(255, 255, 255, 0.95);
            --overlay-bg: rgba(255, 255, 255, 0.98);
        }

        [data-theme="dark"] {
            --primary-color: #1ecf9f;
            --bg-body: #121212;
            --bg-sidebar: #1e1e1e;
            --bg-content: #1e1e1e;
            --text-main: #e0e0e0;
            --text-sub: #a0a0a0;
            --border-color: #333333;
            --shadow-card: 0 4px 16px rgba(0, 0, 0, 0.3);
            --player-bg: rgba(30, 30, 30, 0.95);
            --overlay-bg: rgba(30, 30, 30, 0.98);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            outline: none;
        }

        body {
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
            background: var(--bg-body);
            color: var(--text-main);
            height: 100vh;
            overflow: hidden;
            display: flex;
            user-select: none;
        }

        /* ä¾§è¾¹æ  */
        .sidebar {
            width: 240px;
            background: var(--bg-sidebar);
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--border-color);
            z-index: 10;
            height: 100%;
        }

        .logo-area {
            height: 70px;
            display: flex;
            align-items: center;
            padding: 0 24px;
            font-size: 20px;
            font-weight: 800;
            color: var(--primary-color);
            letter-spacing: 1px;
            flex-shrink: 0;
        }

        .nav-scroll {
            flex: 1;
            overflow-y: auto;
            padding: 10px 12px;
        }

        .nav-scroll::-webkit-scrollbar {
            width: 4px;
        }

        .nav-scroll::-webkit-scrollbar-thumb {
            background: #ddd;
            border-radius: 2px;
        }

        .nav-group-header {
            padding: 10px 12px 5px;
            font-size: 12px;
            color: var(--text-sub);
            display: flex;
            align-items: center;
            /* å·¦å¯¹é½ */
            gap: 8px;
            margin-top: 10px;
        }

        .pl-header-actions {
            margin-left: auto;
            display: flex;
            gap: 8px;
        }

        .nav-action-icon {
            cursor: pointer;
            padding: 4px;
            color: var(--text-sub);
            transition: color 0.2s;
        }

        .nav-action-icon:hover {
            color: var(--primary-color);
        }

        .nav-action-icon.rotate {
            transform: rotate(-90deg);
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 10px 16px;
            margin-bottom: 2px;
            border-radius: 8px;
            color: var(--text-main);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            font-weight: 500;
        }

        .nav-item i {
            width: 24px;
            font-size: 16px;
            color: var(--text-sub);
            transition: color 0.2s;
        }

        .nav-item:hover {
            background: rgba(0, 0, 0, 0.03);
        }

        .nav-item.active {
            background: linear-gradient(90deg, rgba(30, 207, 159, 0.1), transparent);
            color: var(--primary-color);
            border-left: 3px solid var(--primary-color);
        }

        .nav-item.active i {
            color: var(--primary-color);
        }

        /* æ­Œå•åˆ—è¡¨ (ä¾§è¾¹æ å†…) */
        .playlist-section {
            transition: max-height 0.3s ease;
            overflow: hidden;
        }

        .playlist-section.collapsed {
            max-height: 0;
        }

        .pl-nav-item {
            padding-left: 30px;
            font-size: 13px;
        }

        /* ä¸»å†…å®¹åŒº */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            background: var(--bg-body);
            min-width: 0;
        }

        /* é¡¶éƒ¨æ  */
        .top-header {
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            background: transparent;
            z-index: 20;
            flex-shrink: 0;
        }

        .search-bar-container {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
            max-width: 900px;
        }

        .search-input-wrapper {
            position: relative;
            width: 320px;
        }

        .search-input-wrapper input {
            width: 100%;
            height: 38px;
            padding: 0 15px 0 38px;
            border-radius: 19px;
            border: 1px solid transparent;
            background: var(--bg-content);
            color: var(--text-main);
            box-shadow: var(--shadow-card);
            transition: all 0.3s;
        }

        .search-input-wrapper input:focus {
            border-color: var(--primary-color);
            width: 360px;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-sub);
            font-size: 14px;
        }

        .search-recommend {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            padding-top: 12px;
            display: flex;
            gap: 15px;
            font-size: 13px;
            color: var(--text-sub);
        }

        .rec-tag {
            cursor: pointer;
            transition: color 0.2s;
        }

        .rec-tag:hover {
            color: var(--primary-color);
            text-decoration: underline;
        }

        .search-btn {
            height: 38px;
            padding: 0 24px;
            border-radius: 19px;
            background: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 4px 10px rgba(30, 207, 159, 0.3);
            transition: background 0.2s;
        }

        .search-btn:hover {
            background: var(--primary-hover);
        }

        /* å¤šæºå¼€å…³ä¸é€‰æ‹©å™¨ */
        .source-controls {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-left: 15px;
            background: var(--bg-content);
            padding: 5px 10px;
            border-radius: 20px;
            box-shadow: var(--shadow-card);
        }

        .multi-source-toggle {
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            font-size: 12px;
            color: var(--text-sub);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .multi-source-toggle.active {
            color: var(--primary-color);
            font-weight: bold;
        }

        .toggle-switch {
            width: 30px;
            height: 16px;
            background: #ddd;
            border-radius: 8px;
            position: relative;
            transition: background 0.2s;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            left: 2px;
            top: 2px;
            width: 12px;
            height: 12px;
            background: white;
            border-radius: 50%;
            transition: transform 0.2s;
        }

        .multi-source-toggle.active .toggle-switch {
            background: var(--primary-color);
        }

        .multi-source-toggle.active .toggle-switch::after {
            transform: translateX(14px);
        }

        .source-chips {
            display: flex;
            gap: 6px;
        }

        .source-chip {
            padding: 4px 12px;
            border-radius: 14px;
            background: #f0f0f0;
            color: #666;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .source-chip:hover {
            background: #e0e0e0;
        }

        .source-chip.active {
            background: var(--primary-color);
            color: white;
        }

        /* ç”¨æˆ·å¤´åƒ */
        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .theme-toggle {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--bg-content);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-sub);
            box-shadow: var(--shadow-card);
        }

        .user-profile {
            position: relative;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--bg-content);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .user-menu {
            position: absolute;
            top: 40px;
            right: 0;
            width: 160px;
            background: var(--bg-content);
            border-radius: 12px;
            box-shadow: var(--shadow-float);
            padding: 8px 0;
            display: none;
            z-index: 100;
            animation: fadeIn 0.2s ease;
            padding-top: 10px;
            background-clip: content-box;
        }

        .user-profile:hover .user-menu,
        .user-menu:hover {
            display: block;
        }

        .user-profile::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            height: 15px;
            background: transparent;
        }

        .menu-item {
            padding: 10px 20px;
            font-size: 14px;
            color: var(--text-main);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .menu-item:hover {
            background: rgba(0, 0, 0, 0.03);
            color: var(--primary-color);
        }

        .menu-item.logout {
            color: #ff5252;
            border-top: 1px solid var(--border-color);
        }

        /* å†…å®¹æ»šåŠ¨åŒº */
        .content-view {
            flex: 1;
            overflow-y: auto;
            padding: 10px 30px 100px;
        }

        .song-list-container {
            background: var(--bg-content);
            border-radius: 16px;
            box-shadow: var(--shadow-card);
            padding: 20px;
            min-height: 400px;
        }

        .list-header,
        .song-item {
            display: grid;
            grid-template-columns: 50px 3fr 2.5fr 2.5fr 60px 100px;
            align-items: center;
            padding: 12px 10px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .song-list-container.selection-mode .list-header,
        .song-list-container.selection-mode .song-item {
            grid-template-columns: 40px 50px 3fr 2.5fr 2.5fr 60px 100px;
        }

        .col-check {
            display: none;
            justify-content: center;
            align-items: center;
        }

        .song-list-container.selection-mode .col-check {
            display: flex;
        }

        .col-check input[type="checkbox"] {
            cursor: pointer;
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
        }

        .list-header {
            color: var(--text-sub);
            border-bottom: 1px solid var(--border-color);
            font-size: 12px;
        }

        .song-item {
            border-radius: 8px;
            cursor: pointer;
            color: var(--text-main);
            transition: background 0.1s;
        }

        .song-item:hover {
            background: rgba(0, 0, 0, 0.02);
        }

        .song-item.playing {
            color: var(--primary-color);
            background: rgba(30, 207, 159, 0.1);
            font-weight: 600;
            box-shadow: inset 3px 0 0 var(--primary-color);
        }

        .song-item.playing .col-index {
            color: var(--primary-color);
            font-weight: 800;
        }

        /* æ­Œæ›²æ“ä½œæ ä¼˜åŒ– */
        .col-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .song-item:hover .col-actions {
            opacity: 1;
        }

        .btn-action {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid transparent;
            background: transparent;
            color: var(--text-sub);
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-action:hover {
            background: #f0f0f0;
            color: var(--text-main);
        }

        .btn-action.fav.active {
            color: #ff5252;
        }

        /* Batch Action Bar */
        .batch-bar {
            position: fixed;
            bottom: 110px;
            /* Above player bar */
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--bg-content);
            padding: 10px 20px;
            border-radius: 30px;
            box-shadow: var(--shadow-float);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 999;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            pointer-events: none;
        }

        .batch-bar.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
            pointer-events: auto;
        }

        .batch-count {
            font-weight: bold;
            color: var(--primary-color);
        }

        .batch-btn {
            background: var(--bg-body);
            border: 1px solid var(--border-color);
            padding: 6px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            color: var(--text-main);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .batch-btn:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Toplist Grid */
        .toplist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 25px;
            padding: 10px 0;
        }

        .toplist-card {
            background: var(--bg-content);
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-card);
            border: 1px solid var(--border-color);
        }

        .toplist-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-float);
            border-color: var(--primary-color);
        }

        .toplist-cover-wrapper {
            position: relative;
            aspect-ratio: 1/1;
            overflow: hidden;
        }

        .toplist-cover {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .toplist-card:hover .toplist-cover {
            transform: scale(1.05);
        }

        .toplist-mask {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .toplist-card:hover .toplist-mask {
            opacity: 1;
        }

        .toplist-play-icon {
            color: white;
            font-size: 40px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .toplist-info {
            padding: 12px;
        }

        .toplist-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .toplist-update {
            font-size: 12px;
            color: var(--text-sub);
        }

        /* åˆ†é¡µä¼˜åŒ– */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            gap: 6px;
            flex-wrap: wrap;
        }

        .page-num {
            min-width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            background: white;
            border: 1px solid var(--border-color);
            cursor: pointer;
            color: #333;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .page-num:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .page-num.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .page-num.dots {
            border: none;
            background: transparent;
            cursor: default;
        }

        /* åº•éƒ¨æ’­æ”¾å™¨ */
        .player-bar {
            position: fixed;
            bottom: 20px;
            left: 260px;
            right: 20px;
            height: 80px;
            background: var(--player-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: var(--shadow-float);
            display: flex;
            align-items: center;
            padding: 0 20px;
            z-index: 100;
            transform: translateY(120%);
            transition: transform 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .player-cover {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            margin-right: 15px;
            cursor: pointer;
        }

        .player-info-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 220px;
        }

        .player-info {
            flex: 1;
            cursor: pointer;
            overflow: hidden;
        }

        .player-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .player-artist {
            font-size: 12px;
            color: var(--text-sub);
        }

        .expand-icon {
            font-size: 14px;
            color: var(--text-sub);
            cursor: pointer;
            padding: 5px;
            transition: color 0.2s;
        }

        .expand-icon:hover {
            color: var(--primary-color);
        }

        .player-controls {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .control-btns {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 6px;
        }

        .effect-wrapper {
            position: relative;
            display: inline-block;
        }

        .effect-btn {
            font-size: 14px;
            border: 1px solid var(--text-sub);
            border-radius: 4px;
            padding: 2px 8px;
            color: var(--text-sub);
            background: transparent;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .effect-btn::after {
            content: "\f0d7";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            font-size: 10px;
        }

        .effect-btn:hover {
            color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .effect-menu {
            position: absolute;
            bottom: 100%;
            left: 0;
            background: var(--bg-content);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: var(--shadow-float);
            padding: 8px 0;
            margin-bottom: 10px;
            display: none;
            z-index: 1000;
            min-width: 100px;
        }

        .effect-menu.show {
            display: block;
        }

        .effect-item {
            padding: 8px 15px;
            cursor: pointer;
            transition: background 0.2s;
            white-space: nowrap;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .effect-item:hover {
            background: var(--bg-body);
            color: var(--primary-color);
        }

        .effect-item.active {
            color: var(--primary-color);
            font-weight: bold;
        }

        .effect-item.active::after {
            content: "\f00c";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            font-size: 10px;
        }

        /* Multi-Playlist Select Styles */
        .pl-select-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background 0.2s;
        }

        .pl-select-item:hover {
            background: var(--bg-body);
        }

        .pl-select-item input[type="checkbox"] {
            margin-right: 12px;
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: var(--primary-color);
        }

        .pl-select-info {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .pl-select-name {
            font-weight: 500;
        }

        .pl-select-count {
            font-size: 12px;
            color: var(--text-sub);
        }

        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                left: -240px;
                transition: left 0.3s;
            }

            .sidebar.active {
                left: 0;
            }

            .main-content {
                width: 100%;
            }

            .top-header {
                padding: 0 15px;
            }

            .player-bar {
                left: 0 !important;
                /* Override inline styles from resize */
                right: 0;
                bottom: 0;
                border-radius: 0;
            }

            .search-input-wrapper input {
                width: 200px;
            }

            .player-info-wrapper {
                width: 120px;
            }

            .player-extra {
                display: none;
                /* Hide volume on mobile */
            }

            /* Add hamburger menu trigger if needed, or swipe */
        }

        .ctrl-btn {
            background: none;
            border: none;
            font-size: 18px;
            color: var(--text-main);
            cursor: pointer;
            transition: color 0.2s;
        }

        .ctrl-btn:hover {
            color: var(--primary-color);
        }

        .play-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(30, 207, 159, 0.4);
            transition: transform 0.2s;
        }

        .play-btn:hover {
            transform: scale(1.05);
            background: var(--primary-hover);
        }

        .progress-container {
            width: 100%;
            max-width: 500px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 11px;
            color: var(--text-sub);
        }

        .progress-track {
            flex: 1;
            height: 4px;
            background: #eee;
            border-radius: 2px;
            position: relative;
            cursor: pointer;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-color);
            border-radius: 2px;
            width: 0%;
            position: relative;
        }

        .progress-handle {
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            position: absolute;
            right: -5px;
            top: -3px;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: opacity 0.2s;
            pointer-events: none;
        }

        .progress-track:hover .progress-handle {
            opacity: 1;
        }

        .player-extra {
            width: 160px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 10px;
        }

        .vol-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
            width: 100%;
        }

        .cover-wrapper:hover .cover-mask {
            display: flex !important;
        }

        .vol-slider {
            flex: 1;
            height: 4px;
            border-radius: 2px;
            accent-color: var(--primary-color);
            cursor: pointer;
        }

        /* æ’­æ”¾å™¨åŠå±è¦†ç›– */
        .player-overlay {
            position: fixed;
            bottom: 80px;
            left: 240px;
            right: 20px;
            height: 0;
            /* é»˜è®¤éšè— */
            background: var(--overlay-bg);
            z-index: 90;
            /* åœ¨æ’­æ”¾æ¡ä¹‹ä¸‹ */
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: height 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            display: flex;
            flex-direction: row;
            /* å·¦å³å¸ƒå±€ */
        }

        .player-overlay.active {
            height: 60vh;
            /* åŠå± */
        }

        .overlay-left {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.02);
        }

        .overlay-right {
            flex: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
        }

        .overlay-nav {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 10px;
        }

        .overlay-close {
            font-size: 20px;
            cursor: pointer;
            color: var(--text-sub);
        }

        .cd-wrapper-lg {
            width: 250px;
            height: 250px;
            border-radius: 50%;
            border: 8px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            animation: rotate 20s linear infinite;
            animation-play-state: paused;
        }

        .cd-wrapper-lg.playing {
            animation-play-state: running;
        }

        .cd-wrapper-lg img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .lyrics-panel {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            text-align: center;
            mask-image: linear-gradient(transparent 0%, black 10%, black 90%, transparent 100%);
        }

        .lrc-p {
            padding: 10px 0;
            color: var(--text-sub);
            font-size: 15px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .lrc-p.active {
            color: var(--primary-color);
            font-size: 20px;
            font-weight: bold;
            transform: scale(1.05);
            text-shadow: 0 4px 10px rgba(30, 207, 159, 0.2);
        }

        @keyframes rotate {
            to {
                transform: rotate(360deg);
            }
        }

        /* è‡ªå®šä¹‰å³é”®èœå• */
        .custom-ctx-menu {
            position: fixed;
            background: var(--bg-content);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            padding: 6px 0;
            z-index: 999;
            display: none;
            border: 1px solid var(--border-color);
            min-width: 160px;
        }

        .ctx-item {
            padding: 10px 16px;
            font-size: 13px;
            color: var(--text-main);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background 0.1s;
        }

        .ctx-item:hover {
            background: rgba(0, 0, 0, 0.05);
            color: var(--primary-color);
        }

        .ctx-item.danger {
            color: #ff5252;
        }

        .ctx-item.danger:hover {
            background: #fff0f0;
        }

        /* æ¨¡æ€æ¡† */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 300;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal {
            background: var(--bg-content);
            width: 450px;
            border-radius: 16px;
            padding: 24px;
            box-shadow: var(--shadow-float);
            animation: popIn 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from {
                transform: scale(0.9);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 18px;
            color: var(--text-main);
        }

        .modal-close {
            cursor: pointer;
            color: var(--text-sub);
            font-size: 20px;
        }

        .sync-platforms {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .platform-btn {
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
            font-size: 14px;
            color: var(--text-main);
            transition: all 0.2s;
        }

        .platform-btn:hover,
        .platform-btn.active {
            border-color: var(--primary-color);
            color: var(--primary-color);
            background: rgba(30, 207, 159, 0.05);
        }

        .qr-container {
            background: #f8f8f8;
            height: 200px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 13px;
            flex-direction: column;
            gap: 10px;
        }

        .qr-img {
            width: 150px;
            height: 150px;
            opacity: 0.5;
        }

        /* å ä½ä¸ç©ºçŠ¶æ€ */
        .empty-state {
            padding: 50px;
            text-align: center;
            color: var(--text-sub);
        }

        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.3;
        }
    </style>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Custom Context Menus -->
    <div class="custom-ctx-menu" id="song-ctx-menu">
        <div class="ctx-item" id="ctx-play-next"><i class="fas fa-step-forward"></i> ä¸‹ä¸€é¦–æ’­æ”¾</div>
        <div class="ctx-item" id="ctx-add-pl"><i class="fas fa-folder-plus"></i> æ·»åŠ åˆ°æ­Œå•...</div>
        <div class="ctx-item" id="ctx-download"><i class="fas fa-download"></i> ä¸‹è½½</div>
    </div>
    <div class="custom-ctx-menu" id="pl-ctx-menu">
        <div class="ctx-item" id="ctx-rename-pl"><i class="fas fa-edit"></i> é‡å‘½å</div>
        <div class="ctx-item danger" id="ctx-delete-pl"><i class="fas fa-trash"></i> åˆ é™¤</div>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-resizer" id="sidebar-resizer"></div>
        <div class="logo-area">
            <i class="fas fa-cloud-music" style="margin-right: 10px;"></i> äº‘ç«¯éŸ³ä¹
        </div>

        <div class="nav-scroll">
            <div class="nav-group-header">å‘ç°</div>
            <div class="nav-item active" data-view="search"><i class="fas fa-search"></i> æœç´¢</div>
            <div class="nav-item" data-view="hot"><i class="fas fa-fire"></i> çƒ­é—¨æ­Œæ›²</div>

            <div class="nav-group-header">æˆ‘çš„éŸ³ä¹</div>
            <div class="nav-item" data-view="favorites"><i class="fas fa-heart"></i> æˆ‘çš„æ”¶è—</div>
            <div class="nav-item" data-view="history"><i class="fas fa-history"></i> æ’­æ”¾å†å²</div>

            <div class="nav-group-header">
                <i class="fas fa-chevron-down nav-action-icon" id="pl-toggle-icon" title="æŠ˜å "></i>
                <span>æˆ‘çš„æ­Œå•</span>
                <div class="pl-header-actions">
                    <i class="fas fa-plus nav-action-icon" id="create-pl-btn" title="æ–°å»ºæ­Œå•"></i>
                </div>
            </div>

            <!-- Playlist Container in Sidebar -->
            <div class="playlist-section" id="sidebar-playlists">
                <!-- Dynamic Playlists Here -->
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Header -->
        <header class="top-header">
            <div class="search-bar-container" id="search-container">
                <div class="search-input-wrapper">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="search-input" placeholder="æœç´¢æ­Œæ›²ã€æ­Œæ‰‹...">
                    <div class="search-recommend" id="search-rec">
                        <!-- Hot tags -->
                    </div>
                </div>
                <button class="search-btn" id="search-btn">æœç´¢</button>

                <div class="source-controls">
                    <div class="multi-source-toggle" id="multi-source-toggle">
                        <span>å¤šæºæœç´¢</span>
                        <div class="toggle-switch"></div>
                    </div>
                    <div class="source-chips">
                        <div class="source-chip active" data-source="netease">ç½‘æ˜“äº‘</div>
                        <div class="source-chip" data-source="qq">QQéŸ³ä¹</div>
                        <div class="source-chip" data-source="kuwo">é…·æˆ‘</div>
                    </div>
                </div>
            </div>

            <div class="header-right">
                <div class="theme-toggle" id="theme-toggle" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-sun"></i>
                </div>
                <div class="help-btn" id="help-btn" title="å¸®åŠ©æ–‡æ¡£">
                    <i class="fas fa-question"></i>
                </div>
                <div class="user-profile">
                    <img src="https://ui-avatars.com/api/?name=User&background=random" class="avatar" id="user-avatar">
                    <span id="user-name" style="font-size: 14px; font-weight: 500;">Guest</span>
                    <div class="user-menu">
                        <div class="menu-item" id="edit-profile-btn"><i class="fas fa-user-edit"></i> ç¼–è¾‘èµ„æ–™</div>
                        <div class="menu-item" id="sync-pl-btn"><i class="fas fa-sync"></i> åŒæ­¥å¹³å°æ­Œå•</div>
                        <div class="menu-item logout" id="logout-btn"><i class="fas fa-sign-out-alt"></i> é€€å‡ºç™»å½•</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Content Area -->
        <div class="content-view" id="content-view">
            <!-- Dynamic Content -->
            <div class="song-list-container">
                <div class="empty-state">
                    <i class="fas fa-music"></i>
                    <p>æœç´¢ä½ æƒ³å¬çš„æ­Œæ›²</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Fullscreen Overlay (Now Semi-screen) -->
    <div class="player-overlay" id="player-overlay">
        <div class="overlay-left">
            <div class="cd-wrapper-lg" id="cd-wrapper">
                <img src="https://placehold.co/350x350?text=Music" id="overlay-cover"
                    onerror="this.src='https://placehold.co/350x350?text=Music'">
            </div>
        </div>
        <div class="overlay-right">
            <div class="overlay-nav">
                <div class="overlay-close" id="overlay-close"><i class="fas fa-chevron-down"></i></div>
            </div>
            <div class="lyrics-panel" id="lyrics-panel">
                <div class="lrc-p">æš‚æ— æ­Œè¯</div>
            </div>
        </div>
    </div>

    <!-- Bottom Player -->
    <div class="player-bar" id="player-bar">
        <div class="cover-wrapper" id="cover-wrapper" style="position: relative; cursor: pointer;">
            <img src="https://placehold.co/60x60?text=Music" class="player-cover" id="player-cover">
            <div class="cover-mask"
                style="position: absolute; inset: 0; background: rgba(0,0,0,0.3); border-radius: 12px; display: none; align-items: center; justify-content: center; color: white;">
                <i class="fas fa-chevron-up" id="cover-arrow"></i>
            </div>
        </div>

        <div class="player-info-wrapper">
            <div class="player-info" id="player-info-area">
                <div class="player-title" id="player-title">æœªæ’­æ”¾</div>
                <div class="player-artist" id="player-artist">-</div>
            </div>
        </div>

        <div class="player-controls">
            <div class="control-btns">
                <button class="ctrl-btn" id="mode-btn" title="åˆ—è¡¨å¾ªç¯"><i class="fas fa-retweet"></i></button>
                <div class="effect-wrapper">
                    <button class="effect-btn" id="effect-btn" title="éŸ³æ•ˆæ¨¡å¼">åŸå£°</button>
                    <div class="effect-menu" id="effect-menu">
                        <div class="effect-item active" data-mode="original">åŸå£°</div>
                        <div class="effect-item" data-mode="headphone">è€³æœº</div>
                        <div class="effect-item" data-mode="speaker">å¤–æ”¾</div>
                    </div>
                </div>
                <div class="effect-wrapper">
                    <button class="effect-btn" id="quality-btn" title="éŸ³è´¨é€‰æ‹©">Hi-Res</button>
                    <div class="effect-menu" id="quality-menu">
                        <div class="effect-item" data-quality="128k">æ ‡å‡†éŸ³è´¨</div>
                        <div class="effect-item" data-quality="320k">é«˜å“è´¨</div>
                        <div class="effect-item" data-quality="flac">æ— æŸéŸ³è´¨</div>
                        <div class="effect-item active" data-quality="flac24bit">Hi-Res</div>
                    </div>
                </div>
                <button class="ctrl-btn" id="prev-btn" title="ä¸Šä¸€æ›²"><i class="fas fa-step-backward"></i></button>
                <button class="play-btn" id="play-btn"><i class="fas fa-play"></i></button>
                <button class="ctrl-btn" id="next-btn" title="ä¸‹ä¸€æ›²"><i class="fas fa-step-forward"></i></button>
                <button class="ctrl-btn" id="download-btn" title="ä¸‹è½½" style="font-size: 16px;"><i
                        class="fas fa-download"></i></button>
            </div>
            <div class="progress-container">
                <span id="time-current">00:00</span>
                <div class="progress-track" id="progress-track">
                    <div class="progress-fill" id="progress-fill"></div>
                    <div class="progress-handle" id="progress-handle"></div>
                </div>
                <span id="time-total">00:00</span>
            </div>
        </div>

        <div class="player-extra">
            <div class="vol-wrapper">
                <i class="fas fa-volume-up" id="vol-icon" style="cursor: pointer; width: 20px; text-align: center;"></i>
                <input type="range" class="vol-slider" min="0" max="1" step="0.1" value="0.8" id="vol-slider">
            </div>
        </div>
    </div>


    <!-- Edit Profile Modal -->
    <div class="modal-overlay" id="profile-modal">
        <div class="modal">
            <div class="modal-header">
                <span>ç¼–è¾‘èµ„æ–™</span>
                <span class="modal-close" id="close-profile">Ã—</span>
            </div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:20px;">
                <div style="position:relative;cursor:pointer;" id="profile-avatar-wrapper">
                    <img src="" class="avatar" id="edit-avatar-preview" style="width:80px;height:80px;">
                    <div style="position:absolute;inset:0;background:rgba(0,0,0,0.3);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;opacity:0;transition:opacity 0.2s;"
                        class="hover-show">
                        <i class="fas fa-camera"></i>
                    </div>
                </div>
                <div style="font-size:12px;color:#1ecf9f;cursor:pointer;margin-top:-10px;" id="trigger-avatar-upload">
                    ç‚¹å‡»å›¾ç‰‡ä¿®æ”¹å¤´åƒ</div>
                <div style="width:100%;">
                    <label style="font-size:12px;color:#666;margin-bottom:5px;display:block;">æ˜µç§°</label>
                    <input type="text" id="edit-nickname" readonly
                        style="width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;background-color:#f5f5f5;cursor:not-allowed;color:#999;">
                </div>
                <button class="btn-primary" id="save-profile-btn" style="width:100%;">ä¿å­˜ä¿®æ”¹</button>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal-overlay" id="help-modal">
        <div class="modal" style="max-width: 500px;">
            <div class="modal-header">
                <span>å¸®åŠ©ä¸­å¿ƒ</span>
                <span class="modal-close" id="close-help">Ã—</span>
            </div>
            <div style="padding: 10px 0; line-height: 1.8; color: var(--text-main); font-size: 14px;">
                <h3 style="margin-bottom: 15px; color: var(--primary-color);">å¦‚ä½•å¿«é€Ÿå¯¼å…¥æ­Œå•?</h3>
                <ol style="padding-left: 20px; list-style-type: decimal;">
                    <li style="margin-bottom: 8px;">åœ¨Appä¸­æ‰¾åˆ°æ­Œå•ï¼Œç‚¹å‡»"åˆ†äº«"ï¼ˆç›®å‰åªæ”¯æŒqqéŸ³ä¹ ç½‘æ˜“äº‘éŸ³ä¹ï¼‰</li>
                    <li style="margin-bottom: 8px;">é€‰æ‹©"åˆ†äº«åˆ°å¾®ä¿¡"å¾®ä¿¡æ‰“å¼€åç‚¹å‡»..."æ‰‹æœºæ‰“å¼€å¤åˆ¶é“¾æ¥"</li>
                    <li style="margin-bottom: 8px;">ç‚¹å‡»å¤´åƒåŒæ­¥å¯¹åº”å¹³å°</li>
                </ol>
                <div style="margin-top: 20px; padding-top: 15px; border-top: 1px dashed var(--border-color);">
                    <p style="margin-bottom: 5px;">ğŸ“ æ›´å¤šä¼˜è´¨èµ„æºè¯·åŠ Qç¾¤ï¼š<strong>123456</strong></p>
                    <p>ğŸ”— ä¼˜è´¨èµ„æºç½‘ç›˜è‡ªå–é“¾æ¥ï¼š<a href="https://pan.quark.cn/s/8f2fb25884d3?pwd=Pc5U" target="_blank"
                            style="color: var(--primary-color); text-decoration: none; word-break: break-all;">ç‚¹å‡»è·³è½¬ç½‘ç›˜</a>
                    </p>
                </div>
            </div>
            <button class="btn-primary" id="help-ok-btn" style="width:100%; margin-top: 10px;">äº†è§£äº†</button>
        </div>
    </div>

    <!-- Avatar Upload Input -->
    <input type="file" id="avatar-input" accept="image/*">

    <!-- Universal Dialog -->
    <div class="dialog-overlay" id="uni-dialog">
        <div class="dialog-box">
            <div class="dialog-header">
                <span id="dialog-title">æ ‡é¢˜</span>
                <span class="dialog-close" id="dialog-close">Ã—</span>
            </div>
            <div class="dialog-content" id="dialog-content">
                <!-- Dynamic Content -->
            </div>
            <div class="dialog-footer" id="dialog-footer">
                <button class="dialog-btn cancel" id="dialog-cancel">å–æ¶ˆ</button>
                <button class="dialog-btn confirm" id="dialog-confirm">ç¡®å®š</button>
            </div>
        </div>
    </div>

    <!-- Global Loading Overlay -->
    <div id="global-loading"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.05); z-index: 9999; display: none; align-items: center; justify-content: center; cursor: wait;">
        <div
            style="background: var(--bg-content); padding: 20px 40px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); display: flex; flex-direction: column; align-items: center; gap: 15px; border: 1px solid var(--border-color);">
            <i class="fas fa-spinner fa-spin" style="font-size: 24px; color: var(--primary-color);"></i>
            <span style="font-size: 14px; color: var(--text-main);">éŸ³æºåŠ è½½ä¸­ï¼Œè¯·ç¨å€™...</span>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/service.js"></script>
    <script src="js/player.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>

</html>
